# 坐标系统说明 - offset_x 和 offset_y

## 🎯 参照点

### 核心概念

**参照点 = 圆形徽章的中心**

所有的offset都是相对于圆形中心的偏移量。

---

## 📐 坐标系统

### 坐标轴方向

```
        Y轴负方向（上）
              ↑
              |
              |
X轴负方向 ←---●--→ X轴正方向
   (左)      中心    (右)
              |
              |
              ↓
        Y轴正方向（下）
```

---

## 🔢 参数含义

### offset_x（X轴偏移）

| 值 | 效果 | 图片移动方向 |
|----|------|-------------|
| **正值** (+) | 图片向**右**移动 | → |
| **0** | 图片居中 | ● |
| **负值** (-) | 图片向**左**移动 | ← |

**示例**:
- `offset_x: 50` → 图片向右移动50像素
- `offset_x: -50` → 图片向左移动50像素

---

### offset_y（Y轴偏移）

| 值 | 效果 | 图片移动方向 |
|----|------|-------------|
| **正值** (+) | 图片向**下**移动 | ↓ |
| **0** | 图片居中 | ● |
| **负值** (-) | 图片向**上**移动 | ↑ |

**示例**:
- `offset_y: 30` → 图片向下移动30像素
- `offset_y: -30` → 图片向上移动30像素

---

## 📊 可视化图解

### 示例1：offset_x = 50, offset_y = 0

```
┌─────────────────────────┐
│                         │
│     🔴                  │
│      ↑                  │
│      │50px              │
│      ●─────→ 图片       │
│   圆心      向右移50px  │
│                         │
└─────────────────────────┘
```

**结果**: 图片向右偏移，主体在圆形右侧

---

### 示例2：offset_x = 0, offset_y = -30

```
┌─────────────────────────┐
│                         │
│        图片             │
│         ↑               │
│         │30px           │
│         ●  圆心         │
│        🔴               │
│     向上移30px          │
└─────────────────────────┘
```

**结果**: 图片向上偏移，主体在圆形上方

---

### 示例3：offset_x = 40, offset_y = -20

```
┌─────────────────────────┐
│                         │
│           图片          │
│         ↗               │
│      20px               │
│        ●─→ 40px         │
│     圆心                │
│                         │
└─────────────────────────┘
```

**结果**: 图片向右上方偏移

---

## 🎨 实际应用

### 场景1：人脸偏左，需要居中

**问题**: 人脸在圆形左侧

**分析**:
- 人脸在左边 → 需要向右移动
- 向右移动 → offset_x 用正值

**解决**:
```
offset_x: 50  (向右移动50像素)
offset_y: 0   (不需要上下移动)
```

---

### 场景2：Logo偏上，需要居中

**问题**: Logo在圆形上方

**分析**:
- Logo在上方 → 需要向下移动
- 向下移动 → offset_y 用正值

**解决**:
```
offset_x: 0   (不需要左右移动)
offset_y: 30  (向下移动30像素)
```

---

### 场景3：图片在右下角

**问题**: 主体在圆形右下角

**分析**:
- 在右边 → 需要向左移动 → offset_x 用负值
- 在下方 → 需要向上移动 → offset_y 用负值

**解决**:
```
offset_x: -40  (向左移动40像素)
offset_y: -30  (向上移动30像素)
```

---

## 🧮 计算规则

### 图片位置 → offset值

| 图片当前位置 | 需要的调整 | offset_x | offset_y |
|-------------|-----------|----------|----------|
| 偏左 | 向右移 | **正值** (+) | 0 |
| 偏右 | 向左移 | **负值** (-) | 0 |
| 偏上 | 向下移 | 0 | **正值** (+) |
| 偏下 | 向上移 | 0 | **负值** (-) |
| 左上角 | 向右下移 | **正值** (+) | **正值** (+) |
| 右上角 | 向左下移 | **负值** (-) | **正值** (+) |
| 左下角 | 向右上移 | **正值** (+) | **负值** (-) |
| 右下角 | 向左上移 | **负值** (-) | **负值** (-) |

---

## 💡 记忆技巧

### 简单记法

**X轴（左右）**:
- 正数 = 向右 (Right)
- 负数 = 向左 (Left)

**Y轴（上下）**:
- 正数 = 向下 (Down) ⚠️ 注意：不是向上！
- 负数 = 向上 (Up)

**为什么Y轴正值是向下？**
- 这是图形编程的标准坐标系
- 原点在左上角，Y轴向下为正

---

## 🎯 快速调整指南

### 步骤1：判断当前位置

在"可视化引导裁剪"或"交互式预览"节点中：
- 看红色圆圈（裁剪边界）
- 观察主体在圆圈的哪个方向

---

### 步骤2：确定调整方向

| 主体位置 | 需要移动 | 参数调整 |
|---------|---------|---------|
| 在左边 | 向右 | offset_x += 10~50 |
| 在右边 | 向左 | offset_x -= 10~50 |
| 在上边 | 向下 | offset_y += 10~50 |
| 在下边 | 向上 | offset_y -= 10~50 |

---

### 步骤3：调整幅度建议

| 偏移程度 | 建议调整值 |
|---------|-----------|
| 轻微偏移 | ±10 ~ ±20 |
| 中等偏移 | ±30 ~ ±50 |
| 严重偏移 | ±60 ~ ±100 |

---

## 🔍 调试技巧

### 技巧1：使用预览图

```
[可视化引导裁剪]节点的预览图会显示：
- 🔴 红色圆圈 = 最终裁剪边界
- 🔵 蓝色圆圈 = 安全区域
- 🟢 绿色十字 = 圆心位置

对准绿色十字 = 完美居中！
```

---

### 技巧2：逐步调整

```
不确定该用多少？

方法：
1. 先用小值试试 (如 offset_x: 20)
2. 执行看效果
3. 不够就增加 (改成 offset_x: 40)
4. 太多就减少 (改成 offset_x: 30)
5. 通常3-5次就能找到完美值
```

---

### 技巧3：使用参数微调节点

```
不想手动计算？

使用"参数微调"节点：
- 选择"右移10" → offset_x 自动 +10
- 选择"左移10" → offset_x 自动 -10
- 选择"上移10" → offset_y 自动 -10
- 选择"下移10" → offset_y 自动 +10

可以连续选择多次！
```

---

## 📏 坐标系完整示意图

```
         Y = -100 (向上100px)
              ↑
              |
              |
         Y = -50 (向上50px)
              ↑
              |
              |
X=-100 ←──X=-50←──●──→X=50──→ X=100
(左100)  (左50) 圆心 (右50)  (右100)
              |
              |
              ↓
         Y = 50 (向下50px)
              |
              |
              ↓
         Y = 100 (向下100px)
```

---

## ✅ 总结

### 关键点

1. **参照点 = 圆形中心**
2. **offset_x 正值 = 图片向右移**
3. **offset_y 正值 = 图片向下移**
4. **使用预览图的红圈和绿十字判断位置**
5. **逐步调整，通常3-5次就能找到最佳值**

---

### 快速记忆

```
offset_x:  负←●→正  (左负右正)
offset_y:  负↑●↓正  (上负下正)
```

---

## 🎓 练习建议

### 练习1：水平居中

```
任务: 将偏左的图片居中
步骤:
1. offset_x: 0 → 看预览 → 图片在左边
2. offset_x: 30 → 看预览 → 还偏左
3. offset_x: 50 → 看预览 → 完美居中！✓
```

---

### 练习2：垂直居中

```
任务: 将偏上的图片居中
步骤:
1. offset_y: 0 → 看预览 → 图片在上边
2. offset_y: 20 → 看预览 → 还偏上
3. offset_y: 35 → 看预览 → 完美居中！✓
```

---

### 练习3：对角线调整

```
任务: 将右下角的图片移到中心
分析: 在右下角 = offset_x要减，offset_y要减
步骤:
1. offset_x: -40, offset_y: -30
2. 看预览，根据情况微调
3. 完成！✓
```

---

希望这个说明能帮助您理解坐标系统！

**记住：调整参数后按Ctrl+Enter快速执行，看预览图效果！** 🎯

